# Функции

**Объявление и определение**

* `Type func(args);` - объявление/declaration. Может быть сколько угодно на программу,
  обычно используют в `*.h`.
* Если функция `foo()` была объявлена как `Type`, её нельзя объявить/определить под другим
  типом (но можно перегрузить под другим типом с другим набором аргументов).
* `inline`: исторический смысл: сказать компилятору "не вызывай эту функцию, а просто скопипасти
  код". Если функция помечена `inline` программист гарантирует, что все определения этой функции во
  всех единицах трансляции одинаковые. Если разные - UB (IFNDR).
* `Type func(args) { body }` - определение. Может быть только одно на программу (единицу
  трансляции, если помечено `static`), иначе нарушение ODR.

**Вызов функции**

* `func(args);` - вызов функции. Всегда сопровождается круглыми скобочками, в которых указываются
  аргументы (если есть).
* При вызове функции может происходить перегрузка (в зависимости от типа/аргументов), тогда
  выбирается **наиболее близкая** сигнатура.

**Возвращаемое значение**

* Каждая функция, как и переменная, должна иметь тип, только в контексте функций тип означает тип
  возвращаемого значения. Если объявили тип `type`, внутри функции обязан быть `return`, который
  возвращает объект типа `type`.
* Любая функция, кроме `void`, всегда должна что-то возвращать, иначе UB. В `void`-функциях и
  конструкторах-деструкторах в конце всегда выполняется `return;`. Если в `main()`
  отсутствует `return int;`, по-умолчанию выполняется `return 0;`.
* `void` - ничего не возвращает, внутри функции можно использовать только пустой `return;`

**Рекурсивный вызов**

* Функции могут вызывать сами себя, в этом нет ничего (почти) страшного.
* Бесконечная рекурсия упадёт с ошибкой `stackoverflow`.
* Пример рекурсии:

```c++
int fib(int a) {
    if (a <= 2) return 1;
    return fib(a - 1) + fib(a - 2);
}
```
